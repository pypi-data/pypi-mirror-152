import{S as Ue,i as Ne,s as qe,d as O,v as ze,h as B,b,t as C,c as A,e as U,aa as Ze,l as K,g as N,r as He,w as G,k as ae,f as R,m as Ke,n as he,K as Qe,I as X,L as ge,y as me,ab as V,a as te,B as le,C as re,M as _e,D as Q,E as W,F as se,o as $,ac as ee,G as ke,ad as ve,ae as Ee,H as De,T as kt,R as et,U as vt,V as Et}from"./index.99092ad4.js";import{U as tt}from"./Upload.35e6b65a.js";import{d as We}from"./dsv.7fe76a93.js";var Xe=Object.prototype.hasOwnProperty;function oe(o,e){var t,l;if(o===e)return!0;if(o&&e&&(t=o.constructor)===e.constructor){if(t===Date)return o.getTime()===e.getTime();if(t===RegExp)return o.toString()===e.toString();if(t===Array){if((l=o.length)===e.length)for(;l--&&oe(o[l],e[l]););return l===-1}if(!t||typeof o=="object"){l=0;for(t in o)if(Xe.call(o,t)&&++l&&!Xe.call(e,t)||!(t in e)||!oe(o[t],e[t]))return!1;return Object.keys(e).length===l}}return o!==o&&e!==e}const nt="mnt/c/Users/islam/dev/gradio-repos/gradio/ui/packages/table/src/EditableCell.svelte";function Pe(o){let e,t,l;const s={c:function(){e=B("input"),b(e,"class","absolute outline-none inset-2 bg-transparent border-0 translate-x-px flex-1 "),b(e,"tabindex","-1"),C(e,"translate-x-px",!o[3]),C(e,"font-bold",o[3]),A(e,nt,7,1,123)},m:function(u,r){U(u,e,r),Ze(e,o[0]),o[7](e),t||(l=[K(e,"input",o[6]),K(e,"keydown",o[5],!1,!1,!1),K(e,"blur",Dt,!1,!1,!1)],t=!0)},p:function(u,r){r&1&&e.value!==u[0]&&Ze(e,u[0]),r&8&&C(e,"translate-x-px",!u[3]),r&8&&C(e,"font-bold",u[3])},d:function(u){u&&N(e),o[7](null),t=!1,He(l)}};return O("SvelteRegisterBlock",{block:s,id:Pe.name,type:"if",source:"(7:0) {#if edit}",ctx:o}),s}function Fe(o){let e,t,l,s,c,u=o[2]&&Pe(o);const r={c:function(){u&&u.c(),e=G(),t=B("span"),l=ae(o[0]),b(t,"tabindex","-1"),b(t,"role","button"),b(t,"class","p-2 outline-none border-0 flex-1"),C(t,"opacity-0",o[2]),C(t,"pointer-events-none",o[2]),A(t,nt,19,0,429)},l:function(d){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(d,a){u&&u.m(d,a),U(d,e,a),U(d,t,a),R(t,l),s||(c=K(t,"dblclick",o[4],!1,!1,!1),s=!0)},p:function(d,[a]){d[2]?u?u.p(d,a):(u=Pe(d),u.c(),u.m(e.parentNode,e)):u&&(u.d(1),u=null),a&1&&Ke(l,d[0]),a&4&&C(t,"opacity-0",d[2]),a&4&&C(t,"pointer-events-none",d[2])},i:he,o:he,d:function(d){u&&u.d(d),d&&N(e),d&&N(t),s=!1,c()}};return O("SvelteRegisterBlock",{block:r,id:Fe.name,type:"component",source:"",ctx:o}),r}const Dt=({currentTarget:o})=>o.setAttribute("tabindex","-1");function Pt(o,e,t){let{$$slots:l={},$$scope:s}=e;ze("EditableCell",l,[]);let{edit:c}=e,{value:u=""}=e,{el:r}=e,{header:g=!1}=e;const d=["edit","value","el","header"];Object.keys(e).forEach(i=>{!~d.indexOf(i)&&i.slice(0,2)!=="$$"&&i!=="slot"&&console.warn(`<EditableCell> was created with unknown prop '${i}'`)});function a(i){Qe.call(this,o,i)}function p(i){Qe.call(this,o,i)}function f(){u=this.value,t(0,u)}function m(i){X[i?"unshift":"push"](()=>{r=i,t(1,r)})}return o.$$set=i=>{"edit"in i&&t(2,c=i.edit),"value"in i&&t(0,u=i.value),"el"in i&&t(1,r=i.el),"header"in i&&t(3,g=i.header)},o.$capture_state=()=>({edit:c,value:u,el:r,header:g}),o.$inject_state=i=>{"edit"in i&&t(2,c=i.edit),"value"in i&&t(0,u=i.value),"el"in i&&t(1,r=i.el),"header"in i&&t(3,g=i.header)},e&&"$$inject"in e&&o.$inject_state(e.$$inject),[u,r,c,g,a,p,f,m]}class Ve extends Ue{constructor(e){super(e),Ne(this,e,Pt,Fe,qe,{edit:2,value:0,el:1,header:3}),O("SvelteRegisterComponent",{component:this,tagName:"EditableCell",options:e,id:Fe.name});const{ctx:t}=this.$$,l=e.props||{};t[2]===void 0&&!("edit"in l)&&console.warn("<EditableCell> was created without expected prop 'edit'"),t[1]===void 0&&!("el"in l)&&console.warn("<EditableCell> was created without expected prop 'el'")}get edit(){throw new Error("<EditableCell>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set edit(e){throw new Error("<EditableCell>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get value(){throw new Error("<EditableCell>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set value(e){throw new Error("<EditableCell>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get el(){throw new Error("<EditableCell>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set el(e){throw new Error("<EditableCell>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get header(){throw new Error("<EditableCell>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set header(e){throw new Error("<EditableCell>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const S="mnt/c/Users/islam/dev/gradio-repos/gradio/ui/packages/table/src/Table.svelte";function ue(o,e,t){const l=o.slice();return l[49]=e[t],l[51]=t,l}function fe(o,e,t){const l=o.slice();return l[52]=e[t].value,l[53]=e[t].id,l[54]=e,l[55]=t,l}function de(o,e,t){const l=o.slice();return l[52]=e[t].value,l[53]=e[t].id,l[56]=e,l[51]=t,l}function Te(o){let e,t;const l={c:function(){e=B("p"),t=ae(o[0]),b(e,"class","text-gray-600 text-[0.855rem] mb-2 block dark:text-gray-200 relative z-40"),A(e,S,376,2,11207)},m:function(c,u){U(c,e,u),R(e,t)},p:function(c,u){u[0]&1&&Ke(t,c[0])},d:function(c){c&&N(e)}};return O("SvelteRegisterBlock",{block:l,id:Te.name,type:"if",source:"(376:1) {#if label && label.length !== 0}",ctx:o}),l}function Ce(o){let e,t;const l={c:function(){e=B("caption"),t=ae(o[0]),b(e,"class","sr-only"),A(e,S,399,5,11850)},m:function(c,u){U(c,e,u),R(e,t)},p:function(c,u){u[0]&1&&Ke(t,c[0])},d:function(c){c&&N(e)}};return O("SvelteRegisterBlock",{block:l,id:Ce.name,type:"if",source:"(399:4) {#if label && label.length !== 0}",ctx:o}),l}function Re(o,e){let t,l,s,c,u,r,g,d,a,p,f,m=e[53],i,P,v;function _(j){e[28](j,e[53])}function E(){return e[29](e[53])}let k={value:e[52],edit:e[11]===e[53],header:!0};e[8][e[53]].input!==void 0&&(k.el=e[8][e[53]].input),s=new Ve({props:k,$$inline:!0}),X.push(()=>ge(s,"el",_)),s.$on("keydown",e[19]),s.$on("dblclick",E);function h(){return e[30](e[51])}const F=()=>e[31](t,m),M=()=>e[31](null,m),q={key:o,first:null,c:function(){t=B("th"),l=B("div"),le(s.$$.fragment),u=G(),r=B("div"),g=te("svg"),d=te("path"),p=G(),b(d,"d","M4.49999 0L8.3971 6.75H0.602875L4.49999 0Z"),A(d,S,444,11,13476),b(g,"width","1em"),b(g,"height","1em"),b(g,"class","fill-current text-[10px]"),b(g,"viewBox","0 0 9 7"),b(g,"fill","none"),b(g,"xmlns","http://www.w3.org/2000/svg"),A(g,S,436,10,13259),b(r,"class",a="flex flex-none items-center justify-center p-2 cursor-pointer leading-snug transform transition-all "+(e[10]!==e[51]?"text-gray-200 hover:text-gray-500":"text-orange-500")+" "+(e[10]===e[51]&&e[9]==="des"?"-scale-y-[1]":"")),C(r,"text-gray-200",e[10]!==e[51]),A(r,S,425,9,12822),b(l,"class","min-h-[2.3rem] flex outline-none"),A(l,S,415,8,12540),b(t,"class","p-0 relative focus-within:ring-1 ring-orange-500 ring-inset outline-none "),b(t,"aria-sort",f=e[13](e[52],e[10],e[9])),C(t,"bg-orange-50",e[11]===e[53]),C(t,"dark:bg-transparent",e[11]===e[53]),C(t,"rounded-tl-lg",e[51]===0),C(t,"rounded-tr-lg",e[51]===e[6].length-1),A(t,S,406,7,12131),this.first=t},m:function(z,L){U(z,t,L),R(t,l),re(s,l,null),R(l,u),R(l,r),R(r,g),R(g,d),R(t,p),F(),i=!0,P||(v=K(r,"click",h,!1,!1,!1),P=!0)},p:function(z,L){e=z;const J={};L[0]&64&&(J.value=e[52]),L[0]&2112&&(J.edit=e[11]===e[53]),!c&&L[0]&320&&(c=!0,J.el=e[8][e[53]].input,_e(()=>c=!1)),s.$set(J),(!i||L[0]&1600&&a!==(a="flex flex-none items-center justify-center p-2 cursor-pointer leading-snug transform transition-all "+(e[10]!==e[51]?"text-gray-200 hover:text-gray-500":"text-orange-500")+" "+(e[10]===e[51]&&e[9]==="des"?"-scale-y-[1]":"")))&&b(r,"class",a),L[0]&1600&&C(r,"text-gray-200",e[10]!==e[51]),(!i||L[0]&1600&&f!==(f=e[13](e[52],e[10],e[9])))&&b(t,"aria-sort",f),m!==e[53]&&(M(),m=e[53],F()),L[0]&2112&&C(t,"bg-orange-50",e[11]===e[53]),L[0]&2112&&C(t,"dark:bg-transparent",e[11]===e[53]),L[0]&64&&C(t,"rounded-tl-lg",e[51]===0),L[0]&64&&C(t,"rounded-tr-lg",e[51]===e[6].length-1)},i:function(z){i||(Q(s.$$.fragment,z),i=!0)},o:function(z){W(s.$$.fragment,z),i=!1},d:function(z){z&&N(t),se(s),M(),P=!1,v()}};return O("SvelteRegisterBlock",{block:q,id:Re.name,type:"each",source:"(406:6) {#each _headers as { value, id }",ctx:e}),q}function Ae(o,e){let t,l,s,c,u,r=e[53],g,d,a;function p(F){e[32](F,e[52],e[54],e[55])}function f(F){e[33](F,e[53])}let m={edit:e[4]===e[53]};e[52]!==void 0&&(m.value=e[52]),e[8][e[53]].input!==void 0&&(m.el=e[8][e[53]].input),s=new Ve({props:m,$$inline:!0}),X.push(()=>ge(s,"value",p)),X.push(()=>ge(s,"el",f));const i=()=>e[34](t,r),P=()=>e[34](null,r);function v(){return e[35](e[53])}function _(){return e[36](e[53])}function E(){return e[37](e[53])}function k(...F){return e[38](e[51],e[55],e[53],...F)}const h={key:o,first:null,c:function(){t=B("td"),l=B("div"),le(s.$$.fragment),b(l,"class","min-h-[2.3rem] h-full outline-none flex items-center"),C(l,"border-transparent",e[5]!==e[53]),A(l,S,468,9,14529),b(t,"tabindex","0"),b(t,"class","outline-none focus-within:ring-1 ring-orange-500 ring-inset focus-within:bg-orange-50 dark:focus-within:bg-gray-800 group-last:first:rounded-bl-lg group-last:last:rounded-br-lg relative"),A(t,S,459,8,14051),this.first=t},m:function(M,q){U(M,t,q),R(t,l),re(s,l,null),i(),g=!0,d||(a=[K(t,"touchstart",v,{passive:!0},!1,!1),K(t,"click",_,!1,!1,!1),K(t,"dblclick",E,!1,!1,!1),K(t,"keydown",k,!1,!1,!1)],d=!0)},p:function(M,q){e=M;const j={};q[0]&144&&(j.edit=e[4]===e[53]),!c&&q[0]&128&&(c=!0,j.value=e[52],_e(()=>c=!1)),!u&&q[0]&384&&(u=!0,j.el=e[8][e[53]].input,_e(()=>u=!1)),s.$set(j),q[0]&160&&C(l,"border-transparent",e[5]!==e[53]),r!==e[53]&&(P(),r=e[53],i())},i:function(M){g||(Q(s.$$.fragment,M),g=!0)},o:function(M){W(s.$$.fragment,M),g=!1},d:function(M){M&&N(t),se(s),P(),d=!1,He(a)}};return O("SvelteRegisterBlock",{block:h,id:Ae.name,type:"each",source:"(459:7) {#each row as { value, id }",ctx:e}),h}function Se(o,e){let t,l=[],s=new Map,c,u,r=e[49];$(r);const g=a=>a[53];ee(e,r,fe,g);for(let a=0;a<r.length;a+=1){let p=fe(e,r,a),f=g(p);s.set(f,l[a]=Ae(f,p))}const d={key:o,first:null,c:function(){t=B("tr");for(let p=0;p<l.length;p+=1)l[p].c();c=G(),b(t,"class","group border-b dark:border-gray-700 last:border-none divide-x dark:divide-gray-700 space-x-4 odd:bg-gray-50 dark:odd:bg-gray-900 group focus:bg-gradient-to-b focus:from-blue-100 dark:focus:from-blue-900 focus:to-blue-50 dark:focus:to-gray-900 focus:odd:bg-white"),A(t,S,455,6,13710),this.first=t},m:function(p,f){U(p,t,f);for(let m=0;m<l.length;m+=1)l[m].m(t,null);R(t,c),u=!0},p:function(p,f){e=p,f[0]&115120&&(r=e[49],$(r),ke(),ee(e,r,fe,g),l=ve(l,f,g,1,e,r,s,t,Ee,Ae,c,fe),De())},i:function(p){if(!u){for(let f=0;f<r.length;f+=1)Q(l[f]);u=!0}},o:function(p){for(let f=0;f<l.length;f+=1)W(l[f]);u=!1},d:function(p){p&&N(t);for(let f=0;f<l.length;f+=1)l[f].d()}};return O("SvelteRegisterBlock",{block:d,id:Se.name,type:"each",source:"(455:5) {#each data as row, i (row)}",ctx:e}),d}function ot(o){let e,t,l,s,c=[],u=new Map,r,g,d=[],a=new Map,p,f=o[0]&&o[0].length!==0&&Ce(o),m=o[6];$(m);const i=E=>E[53];ee(o,m,de,i);for(let E=0;E<m.length;E+=1){let k=de(o,m,E),h=i(k);u.set(h,c[E]=Re(h,k))}let P=o[7];$(P);const v=E=>E[49];ee(o,P,ue,v);for(let E=0;E<P.length;E+=1){let k=ue(o,P,E),h=v(k);a.set(h,d[E]=Se(h,k))}const _={c:function(){e=B("table"),f&&f.c(),t=G(),l=B("thead"),s=B("tr");for(let k=0;k<c.length;k+=1)c[k].c();r=G(),g=B("tbody");for(let k=0;k<d.length;k+=1)d[k].c();b(s,"class","border-b dark:border-gray-700 divide-x dark:divide-gray-700 text-left"),A(s,S,402,5,11980),b(l,"class","sticky top-0 left-0 right-0 bg-white shadow-sm z-10"),A(l,S,401,4,11907),b(g,"class","overflow-y-scroll"),A(g,S,453,4,13636),b(e,"class","table-auto font-mono w-full text-gray-900 text-sm transition-opacity overflow-hidden"),C(e,"opacity-40",o[12]),A(e,S,394,3,11666)},m:function(k,h){U(k,e,h),f&&f.m(e,null),R(e,t),R(e,l),R(l,s);for(let F=0;F<c.length;F+=1)c[F].m(s,null);R(e,r),R(e,g);for(let F=0;F<d.length;F+=1)d[F].m(g,null);p=!0},p:function(k,h){k[0]&&k[0].length!==0?f?f.p(k,h):(f=Ce(k),f.c(),f.m(e,t)):f&&(f.d(1),f=null),h[0]&929600&&(m=k[6],$(m),ke(),ee(k,m,de,i),c=ve(c,h,i,1,k,m,u,s,Ee,Re,null,de),De()),h[0]&115120&&(P=k[7],$(P),ke(),ee(k,P,ue,v),d=ve(d,h,v,1,k,P,a,g,Ee,Se,null,ue),De()),h[0]&4096&&C(e,"opacity-40",k[12])},i:function(k){if(!p){for(let h=0;h<m.length;h+=1)Q(c[h]);for(let h=0;h<P.length;h+=1)Q(d[h]);p=!0}},o:function(k){for(let h=0;h<c.length;h+=1)W(c[h]);for(let h=0;h<d.length;h+=1)W(d[h]);p=!1},d:function(k){k&&N(e),f&&f.d();for(let h=0;h<c.length;h+=1)c[h].d();for(let h=0;h<d.length;h+=1)d[h].d()}};return O("SvelteRegisterBlock",{block:_,id:ot.name,type:"slot",source:"(387:2) <Upload    flex={false}    center={false}    boundedheight={false}    click={false}    on:load={(e) => blob_to_string(data_uri_to_blob(e.detail.data))}    bind:dragging   >",ctx:o}),_}function Be(o){let e,t,l=o[2][1]==="dynamic"&&je(o),s=o[1][1]==="dynamic"&&Le(o);const c={c:function(){e=B("div"),l&&l.c(),t=G(),s&&s.c(),b(e,"class","flex justify-end space-x-1 pt-2 text-gray-800"),A(e,S,487,2,14930)},m:function(r,g){U(r,e,g),l&&l.m(e,null),R(e,t),s&&s.m(e,null)},p:function(r,g){r[2][1]==="dynamic"?l?l.p(r,g):(l=je(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),r[1][1]==="dynamic"?s?s.p(r,g):(s=Le(r),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},d:function(r){r&&N(e),l&&l.d(),s&&s.d()}};return O("SvelteRegisterBlock",{block:c,id:Be.name,type:"if",source:"(487:1) {#if editable}",ctx:o}),c}function je(o){let e,t,l,s,c,u;const r={c:function(){e=B("button"),t=te("svg"),l=te("path"),s=ae("New row"),b(l,"fill","currentColor"),b(l,"d","M24.59 16.59L17 24.17V4h-2v20.17l-7.59-7.58L6 18l10 10l10-10l-1.41-1.41z"),A(l,S,500,7,15402),b(t,"xmlns","http://www.w3.org/2000/svg"),b(t,"xmlns:xlink","http://www.w3.org/1999/xlink"),b(t,"aria-hidden","true"),b(t,"role","img"),b(t,"class","mr-1 group-hover:text-orange-500"),b(t,"width","1em"),b(t,"height","1em"),b(t,"preserveAspectRatio","xMidYMid meet"),b(t,"viewBox","0 0 32 32"),A(t,S,490,6,15106),b(e,"class","!flex-none gr-button group"),A(e,S,489,4,15030)},m:function(d,a){U(d,e,a),R(e,t),R(t,l),R(e,s),c||(u=K(e,"click",o[41],!1,!1,!1),c=!0)},p:he,d:function(d){d&&N(e),c=!1,u()}};return O("SvelteRegisterBlock",{block:r,id:je.name,type:"if",source:'(489:3) {#if row_count[1] === \\"dynamic\\"}',ctx:o}),r}function Le(o){let e,t,l,s,c,u;const r={c:function(){e=B("button"),t=te("svg"),l=te("path"),s=ae(`
					New column`),b(l,"fill","currentColor"),b(l,"d","m18 6l-1.43 1.393L24.15 15H4v2h20.15l-7.58 7.573L18 26l10-10L18 6z"),A(l,S,519,7,15974),b(t,"xmlns","http://www.w3.org/2000/svg"),b(t,"xmlns:xlink","http://www.w3.org/1999/xlink"),b(t,"aria-hidden","true"),b(t,"role","img"),b(t,"class","mr-1 group-hover:text-orange-500"),b(t,"width","1em"),b(t,"height","1em"),b(t,"preserveAspectRatio","xMidYMid meet"),b(t,"viewBox","0 0 32 32"),A(t,S,509,5,15678),b(e,"class","!flex-none gr-button group"),A(e,S,508,4,15610)},m:function(d,a){U(d,e,a),R(e,t),R(t,l),R(e,s),c||(u=K(e,"click",o[21],!1,!1,!1),c=!0)},p:he,d:function(d){d&&N(e),c=!1,u()}};return O("SvelteRegisterBlock",{block:r,id:Le.name,type:"if",source:'(508:3) {#if col_count[1] === \\"dynamic\\"}',ctx:o}),r}function Oe(o){let e,t,l,s,c,u,r,g,d,a=o[0]&&o[0].length!==0&&Te(o);function p(P){o[39](P)}let f={flex:!1,center:!1,boundedheight:!1,click:!1,$$slots:{default:[ot]},$$scope:{ctx:o}};o[12]!==void 0&&(f.dragging=o[12]),s=new tt({props:f,$$inline:!0}),X.push(()=>ge(s,"dragging",p)),s.$on("load",o[40]);let m=o[3]&&Be(o);const i={c:function(){e=B("div"),a&&a.c(),t=G(),l=B("div"),le(s.$$.fragment),u=G(),m&&m.c(),b(l,"class","scroll-hide whitespace-nowrap overflow-hidden rounded-lg relative border transition-colors overflow-x-scroll"),C(l,"border-green-400",o[12]),A(l,S,382,1,11325),C(e,"mt-6",o[0]&&o[0].length!==0),A(e,S,374,0,11123)},l:function(v){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(v,_){U(v,e,_),a&&a.m(e,null),R(e,t),R(e,l),re(s,l,null),R(e,u),m&&m.m(e,null),r=!0,g||(d=[K(window,"click",o[22],!1,!1,!1),K(window,"touchstart",o[22],!1,!1,!1)],g=!0)},p:function(v,_){v[0]&&v[0].length!==0?a?a.p(v,_):(a=Te(v),a.c(),a.m(e,t)):a&&(a.d(1),a=null);const E={};_[0]&8177|_[1]&67108864&&(E.$$scope={dirty:_,ctx:v}),!c&&_[0]&4096&&(c=!0,E.dragging=v[12],_e(()=>c=!1)),s.$set(E),_[0]&4096&&C(l,"border-green-400",v[12]),v[3]?m?m.p(v,_):(m=Be(v),m.c(),m.m(e,null)):m&&(m.d(1),m=null),_[0]&1&&C(e,"mt-6",v[0]&&v[0].length!==0)},i:function(v){r||(Q(s.$$.fragment,v),r=!0)},o:function(v){W(s.$$.fragment,v),r=!1},d:function(v){v&&N(e),a&&a.d(),se(s),m&&m.d(),g=!1,He(d)}};return O("SvelteRegisterBlock",{block:i,id:Oe.name,type:"component",source:"",ctx:o}),i}function xe(o,e){return e.filter(t);function t(l){var s=-1;return o.split(`
`).every(c);function c(u){if(!u)return!0;var r=u.split(l).length;return s<0&&(s=r),s===r&&r>1}}}function $e(o){const e=atob(o.split(",")[1]),t=o.split(",")[0].split(":")[1].split(";")[0],l=new ArrayBuffer(e.length),s=new Uint8Array(l);for(let c=0;c<e.length;c++)s[c]=e.charCodeAt(c);return new Blob([l],{type:t})}function Ft(o,e,t){let{$$slots:l={},$$scope:s}=e;ze("Table",l,[]);let{label:c=null}=e,{headers:u=[]}=e,{values:r=[[]]}=e,{col_count:g}=e,{row_count:d}=e,{editable:a=!0}=e;const p=me();let f=!1,m=!1,i={};function P(n){let w=n||[];if(g[1]==="fixed"&&w.length<g[0]){const y=Array(g[0]-w.length).fill("").map((D,T)=>`${T+w.length}`);w=w.concat(y)}return!w||w.length===0?Array(g[0]).fill(0).map((y,D)=>{const T=`h-${D}`;return t(8,i[T]={cell:null,input:null},i),{id:T,value:JSON.stringify(D+1)}}):w.map((y,D)=>{const T=`h-${D}`;return t(8,i[T]={cell:null,input:null},i),{id:T,value:y??""}})}function v(n){const w=n.length>0?n.length:d[0];return Array(d[1]==="fixed"||w<d[0]?d[0]:w).fill(0).map((y,D)=>Array(g[1]==="fixed"?g[0]:n[0].length).fill(0).map((T,Y)=>{const Z=`${D}-${Y}`;return t(8,i[Z]={input:null,cell:null},i),{value:n?.[D]?.[Y]??"",id:Z}}))}let _=P(u),E;async function k(){typeof f=="string"?(await V(),i[f]?.input?.focus()):typeof m=="string"&&(await V(),i[m]?.input?.focus())}let h=[[]],F;function M(n,w,y){if(!w)return"none";if(u[w]===n){if(y==="asc")return"ascending";if(y==="des")return"descending"}}function q(n){return h.reduce((w,y,D)=>{const T=y.reduce((Y,Z,pe)=>n===Z.id?pe:Y,-1);return T===-1?w:[D,T]},[-1,-1])}async function j(n,w){if(!a||f===n)return;if(w){const[D,T]=q(n);t(7,h[D][T].value="",h)}t(4,f=n),await V();const{input:y}=i[n];y?.focus()}async function z(n,w,y,D){let T;switch(n.key){case"ArrowRight":if(f)break;n.preventDefault(),T=h[w][y+1],t(5,m=T?T.id:m);break;case"ArrowLeft":if(f)break;n.preventDefault(),T=h[w][y-1],t(5,m=T?T.id:m);break;case"ArrowDown":if(f)break;n.preventDefault(),T=h[w+1],t(5,m=T?T[y].id:m);break;case"ArrowUp":if(f)break;n.preventDefault(),T=h[w-1],t(5,m=T?T[y].id:m);break;case"Escape":if(!a)break;n.preventDefault(),t(5,m=f),t(4,f=!1);break;case"Enter":if(!a)break;if(n.preventDefault(),n.shiftKey){ce(w),await V();const[yt]=q(D);t(5,m=h[yt+1][y].id)}else f===D?t(4,f=!1):j(D);break;case"Backspace":if(!a)break;f||(n.preventDefault(),t(7,h[w][y].value="",h));break;case"Delete":if(!a)break;f||(n.preventDefault(),t(7,h[w][y].value="",h));break;case"Tab":let Y=n.shiftKey?-1:1,Z=h[w][y+Y],pe=h?.[w+Y]?.[Y>0?0:_.length-1],ye=Z||pe;ye&&(n.preventDefault(),t(5,m=ye?ye.id:m)),t(4,f=!1);break;default:(!f||f&&f!==D)&&n.key.length===1&&j(D,!0);break}}async function L(n){f!==n&&m!==n&&(t(4,f=!1),t(5,m=n))}async function J(n,w){if(w==="edit"&&typeof n=="string"&&(await V(),i[n].input?.focus()),w==="edit"&&typeof n=="boolean"&&typeof m=="string"){let y=i[m]?.cell;await V(),y?.focus()}if(w==="select"&&typeof n=="string"){const{cell:y}=i[n];await V(),y?.focus()}}let I,x;function Ye(n,w){w==="asc"?t(7,h=h.sort((y,D)=>y[n].value<D[n].value?-1:1)):w==="des"&&t(7,h=h.sort((y,D)=>y[n].value>D[n].value?-1:1))}function we(n){typeof x!="number"||x!==n?(t(9,I="asc"),t(10,x=n)):I==="asc"?t(9,I="des"):I==="des"&&t(9,I="asc"),Ye(n,I)}let H;async function ie(n,w){!a||g[1]!=="dynamic"||f===n||(t(11,H=n),await V(),i[n].input?.focus(),w&&i[n].input?.select())}function Ge(n){if(!!a)switch(n.key){case"Escape":n.preventDefault(),t(5,m=H),t(11,H=!1);break;case"Enter":n.preventDefault(),t(5,m=H),t(11,H=!1)}}function ce(n){d[1]==="dynamic"&&(h.splice(n?n+1:h.length,0,Array(h[0].length).fill(0).map((w,y)=>{const D=`${h.length}-${y}`;return t(8,i[D]={cell:null,input:null},i),{id:D,value:""}})),t(7,h),t(24,r),t(27,F))}async function Ie(){if(g[1]!=="dynamic")return;for(let w=0;w<h.length;w++){const y=`${w}-${h[w].length}`;t(8,i[y]={cell:null,input:null},i),h[w].push({id:y,value:""})}const n=`h-${_.length}`;t(8,i[n]={cell:null,input:null},i),_.push({id:n,value:`Header ${_.length+1}`}),t(7,h),t(24,r),t(27,F),t(6,_),t(25,u),t(26,E),await V(),ie(n,!0)}function Je(n){typeof f=="string"&&i[f]&&i[f].cell!==n.target&&!i[f].cell?.contains(n?.target)&&t(4,f=!1),typeof H=="string"&&i[H]&&i[H].cell!==n.target&&!i[H].cell?.contains(n.target)&&t(11,H=!1)}function be(n){const w=new FileReader;function y(D){if(!D?.target?.result||typeof D.target.result!="string")return;const[T]=xe(D.target.result,[",","	"]),[Y,...Z]=We(T).parseRows(D.target.result);t(6,_=P(g[1]==="fixed"?Y.slice(0,g[0]):Y)),t(24,r=Z),w.removeEventListener("loadend",y)}w.addEventListener("loadend",y),w.readAsText(n)}let ne=!1;const rt=["label","headers","values","col_count","row_count","editable"];Object.keys(e).forEach(n=>{!~rt.indexOf(n)&&n.slice(0,2)!=="$$"&&n!=="slot"&&console.warn(`<Table> was created with unknown prop '${n}'`)});function st(n,w){o.$$.not_equal(i[w].input,n)&&(i[w].input=n,t(8,i))}const at=n=>ie(n),it=n=>we(n);function ct(n,w){X[n?"unshift":"push"](()=>{i[w].cell=n,t(8,i)})}function ut(n,w,y,D){y[D].value=n,t(7,h),t(24,r),t(27,F)}function ft(n,w){o.$$.not_equal(i[w].input,n)&&(i[w].input=n,t(8,i))}function dt(n,w){X[n?"unshift":"push"](()=>{i[w].cell=n,t(8,i)})}const ht=n=>j(n),gt=n=>L(n),mt=n=>j(n),_t=(n,w,y,D)=>z(D,n,w,y);function wt(n){ne=n,t(12,ne)}const bt=n=>be($e(n.detail.data)),pt=()=>ce();return o.$$set=n=>{"label"in n&&t(0,c=n.label),"headers"in n&&t(25,u=n.headers),"values"in n&&t(24,r=n.values),"col_count"in n&&t(1,g=n.col_count),"row_count"in n&&t(2,d=n.row_count),"editable"in n&&t(3,a=n.editable)},o.$capture_state=()=>({createEventDispatcher:me,tick:V,dsvFormat:We,dequal:oe,Upload:tt,EditableCell:Ve,label:c,headers:u,values:r,col_count:g,row_count:d,editable:a,dispatch:p,editing:f,selected:m,els:i,make_headers:P,process_data:v,_headers:_,old_headers:E,refresh_focus:k,data:h,old_val:F,get_sort_status:M,get_current_indices:q,start_edit:j,handle_keydown:z,handle_cell_click:L,set_focus:J,sort_direction:I,sort_by:x,sort:Ye,handle_sort:we,header_edit:H,edit_header:ie,end_header_edit:Ge,add_row:ce,add_col:Ie,handle_click_outside:Je,guess_delimitaor:xe,data_uri_to_blob:$e,blob_to_string:be,dragging:ne}),o.$inject_state=n=>{"label"in n&&t(0,c=n.label),"headers"in n&&t(25,u=n.headers),"values"in n&&t(24,r=n.values),"col_count"in n&&t(1,g=n.col_count),"row_count"in n&&t(2,d=n.row_count),"editable"in n&&t(3,a=n.editable),"editing"in n&&t(4,f=n.editing),"selected"in n&&t(5,m=n.selected),"els"in n&&t(8,i=n.els),"_headers"in n&&t(6,_=n._headers),"old_headers"in n&&t(26,E=n.old_headers),"data"in n&&t(7,h=n.data),"old_val"in n&&t(27,F=n.old_val),"sort_direction"in n&&t(9,I=n.sort_direction),"sort_by"in n&&t(10,x=n.sort_by),"header_edit"in n&&t(11,H=n.header_edit),"dragging"in n&&t(12,ne=n.dragging)},e&&"$$inject"in e&&o.$inject_state(e.$$inject),o.$$.update=()=>{o.$$.dirty[0]&100663296&&(oe(u,E)||(t(6,_=P(u)),t(26,E=u),k())),o.$$.dirty[0]&150994944&&(oe(r,F)||(t(7,h=v(r)),t(27,F=r),k())),o.$$.dirty[0]&192&&_&&p("change",h.map(n=>n.map(({value:w})=>w))),o.$$.dirty[0]&16&&J(f,"edit"),o.$$.dirty[0]&32&&J(m,"select")},[c,g,d,a,f,m,_,h,i,I,x,H,ne,M,j,z,L,we,ie,Ge,ce,Ie,Je,be,r,u,E,F,st,at,it,ct,ut,ft,dt,ht,gt,mt,_t,wt,bt,pt]}class lt extends Ue{constructor(e){super(e),Ne(this,e,Ft,Oe,qe,{label:0,headers:25,values:24,col_count:1,row_count:2,editable:3},null,[-1,-1]),O("SvelteRegisterComponent",{component:this,tagName:"Table",options:e,id:Oe.name});const{ctx:t}=this.$$,l=e.props||{};t[1]===void 0&&!("col_count"in l)&&console.warn("<Table> was created without expected prop 'col_count'"),t[2]===void 0&&!("row_count"in l)&&console.warn("<Table> was created without expected prop 'row_count'")}get label(){throw new Error("<Table>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set label(e){throw new Error("<Table>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get headers(){throw new Error("<Table>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set headers(e){throw new Error("<Table>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get values(){throw new Error("<Table>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set values(e){throw new Error("<Table>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get col_count(){throw new Error("<Table>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set col_count(e){throw new Error("<Table>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get row_count(){throw new Error("<Table>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set row_count(e){throw new Error("<Table>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get editable(){throw new Error("<Table>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set editable(e){throw new Error("<Table>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const Tt="src/components/DataFrame/DataFrame.svelte";function Me(o){let e,t,l,s,c;const u=[o[8]];let r={};for(let d=0;d<u.length;d+=1)r=kt(r,u[d]);t=new et({props:r,$$inline:!0}),s=new lt({props:{label:o[7],row_count:o[5],col_count:o[4],values:o[1],headers:o[0],editable:o[3]==="dynamic"},$$inline:!0}),s.$on("change",o[9]);const g={c:function(){e=B("div"),le(t.$$.fragment),l=G(),le(s.$$.fragment),b(e,"id",o[2]),b(e,"class","relative overflow-hidden"),C(e,"flex-1",o[6]==="row"||!o[6]),A(e,Tt,31,0,836)},l:function(a){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(a,p){U(a,e,p),re(t,e,null),R(e,l),re(s,e,null),c=!0},p:function(a,[p]){const f=p&256?vt(u,[Et(a[8])]):{};t.$set(f);const m={};p&128&&(m.label=a[7]),p&32&&(m.row_count=a[5]),p&16&&(m.col_count=a[4]),p&2&&(m.values=a[1]),p&1&&(m.headers=a[0]),p&8&&(m.editable=a[3]==="dynamic"),s.$set(m),(!c||p&4)&&b(e,"id",a[2]),p&64&&C(e,"flex-1",a[6]==="row"||!a[6])},i:function(a){c||(Q(t.$$.fragment,a),Q(s.$$.fragment,a),c=!0)},o:function(a){W(t.$$.fragment,a),W(s.$$.fragment,a),c=!1},d:function(a){a&&N(e),se(t),se(s)}};return O("SvelteRegisterBlock",{block:g,id:Me.name,type:"component",source:"",ctx:o}),g}function Ct(o,e,t){let{$$slots:l={},$$scope:s}=e;ze("DataFrame",l,[]);let{headers:c=[]}=e,{elem_id:u=""}=e,{value:r=[["","",""]]}=e,{mode:g}=e,{col_count:d}=e,{row_count:a}=e,{parent:p=null}=e,{label:f=null}=e;const m=me();let{loading_status:i}=e;async function P({detail:_}){t(1,r=_),await V(),m("change",_)}const v=["headers","elem_id","value","mode","col_count","row_count","parent","label","loading_status"];return Object.keys(e).forEach(_=>{!~v.indexOf(_)&&_.slice(0,2)!=="$$"&&_!=="slot"&&console.warn(`<DataFrame> was created with unknown prop '${_}'`)}),o.$$set=_=>{"headers"in _&&t(0,c=_.headers),"elem_id"in _&&t(2,u=_.elem_id),"value"in _&&t(1,r=_.value),"mode"in _&&t(3,g=_.mode),"col_count"in _&&t(4,d=_.col_count),"row_count"in _&&t(5,a=_.row_count),"parent"in _&&t(6,p=_.parent),"label"in _&&t(7,f=_.label),"loading_status"in _&&t(8,i=_.loading_status)},o.$capture_state=()=>({Table:lt,StatusTracker:et,createEventDispatcher:me,tick:V,headers:c,elem_id:u,value:r,mode:g,col_count:d,row_count:a,parent:p,label:f,dispatch:m,loading_status:i,handle_change:P}),o.$inject_state=_=>{"headers"in _&&t(0,c=_.headers),"elem_id"in _&&t(2,u=_.elem_id),"value"in _&&t(1,r=_.value),"mode"in _&&t(3,g=_.mode),"col_count"in _&&t(4,d=_.col_count),"row_count"in _&&t(5,a=_.row_count),"parent"in _&&t(6,p=_.parent),"label"in _&&t(7,f=_.label),"loading_status"in _&&t(8,i=_.loading_status)},e&&"$$inject"in e&&o.$inject_state(e.$$inject),o.$$.update=()=>{o.$$.dirty&3&&(Array.isArray(r)?(t(1,r),t(0,c)):(Array.isArray(r.headers)&&t(0,c=r.headers),t(1,r=r.data.length===0?[Array(c.length).fill("")]:r.data)))},[c,r,u,g,d,a,p,f,i,P]}class Rt extends Ue{constructor(e){super(e),Ne(this,e,Ct,Me,qe,{headers:0,elem_id:2,value:1,mode:3,col_count:4,row_count:5,parent:6,label:7,loading_status:8}),O("SvelteRegisterComponent",{component:this,tagName:"DataFrame",options:e,id:Me.name});const{ctx:t}=this.$$,l=e.props||{};t[3]===void 0&&!("mode"in l)&&console.warn("<DataFrame> was created without expected prop 'mode'"),t[4]===void 0&&!("col_count"in l)&&console.warn("<DataFrame> was created without expected prop 'col_count'"),t[5]===void 0&&!("row_count"in l)&&console.warn("<DataFrame> was created without expected prop 'row_count'"),t[8]===void 0&&!("loading_status"in l)&&console.warn("<DataFrame> was created without expected prop 'loading_status'")}get headers(){throw new Error("<DataFrame>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set headers(e){throw new Error("<DataFrame>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get elem_id(){throw new Error("<DataFrame>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set elem_id(e){throw new Error("<DataFrame>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get value(){throw new Error("<DataFrame>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set value(e){throw new Error("<DataFrame>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get mode(){throw new Error("<DataFrame>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set mode(e){throw new Error("<DataFrame>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get col_count(){throw new Error("<DataFrame>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set col_count(e){throw new Error("<DataFrame>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get row_count(){throw new Error("<DataFrame>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set row_count(e){throw new Error("<DataFrame>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get parent(){throw new Error("<DataFrame>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set parent(e){throw new Error("<DataFrame>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get label(){throw new Error("<DataFrame>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set label(e){throw new Error("<DataFrame>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get loading_status(){throw new Error("<DataFrame>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set loading_status(e){throw new Error("<DataFrame>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}var jt=Rt;const Lt=["static","dynamic"];export{jt as Component,Lt as modes};
