import{S as Ge,i as Pe,s as ze,d as B,af as ee,v as qe,ab as Y,R as te,T as Ae,B as C,C as D,l as I,D as P,E,F as N,I as Z,w as U,q as Ee,e as q,U as Be,V as Oe,G as ne,H as le,g as A,o as H,h as v,b as p,N as R,c as M,t as y,f as z,u as oe,r as Ue,n as se,aj as Ve}from"./index.99092ad4.js";import{B as ie}from"./Block.b0739ea2.js";import{B as re}from"./BlockLabel.d3273ab0.js";import{M as ae}from"./ModifyUpload.96a5ebaf.js";import{I as W}from"./Image.3a08de06.js";import"./styles.d87a390f.js";const G="src/components/Gallery/Gallery.svelte";function x(n,t,e){const s=n.slice();return s[26]=t[e],s[28]=e,s}function $(n,t,e){const s=n.slice();return s[26]=t[e],s[29]=t,s[28]=e,s}function ce(n){let t,e,s,c,h,r,i=n[6]!==null&&L(n),g=n[4];H(g);let _=[];for(let m=0;m<g.length;m+=1)_[m]=J(x(n,g,m));let w=null;g.length||(w=F(n));const b={c:function(){i&&i.c(),t=U(),e=v("div"),s=v("div");for(let a=0;a<_.length;a+=1)_[a].c();w&&w.c(),p(s,"class",c="grid gap-2 "+n[12]+" s-QzgPMAMVqUOn"),y(s,"pt-6",n[1]),M(s,G,120,3,3838),p(e,"class","overflow-y-auto h-full p-2 s-QzgPMAMVqUOn"),ee(()=>n[22].call(e)),y(e,"min-h-[350px]",n[5].height!=="auto"),y(e,"max-h-[55vh]",n[5].height!=="auto"),y(e,"xl:min-h-[450px]",n[5].height!=="auto"),M(e,G,113,2,3609)},m:function(a,u){i&&i.m(a,u),q(a,t,u),q(a,e,u),z(e,s);for(let o=0;o<_.length;o+=1)_[o].m(s,null);w&&w.m(s,null),h=Ve(e,n[22].bind(e)),r=!0},p:function(a,u){if(a[6]!==null?i?(i.p(a,u),u&64&&P(i,1)):(i=L(a),i.c(),P(i,1),i.m(t.parentNode,t)):i&&(ne(),E(i,1,1,()=>{i=null}),le()),u&2128){g=a[4],H(g);let o;for(o=0;o<g.length;o+=1){const f=x(a,g,o);_[o]?_[o].p(f,u):(_[o]=J(f),_[o].c(),_[o].m(s,null))}for(;o<_.length;o+=1)_[o].d(1);_.length=g.length,!g.length&&w?w.p(a,u):g.length?w&&(w.d(1),w=null):(w=F(a),w.c(),w.m(s,null))}(!r||u&4096&&c!==(c="grid gap-2 "+a[12]+" s-QzgPMAMVqUOn"))&&p(s,"class",c),u&4098&&y(s,"pt-6",a[1]),u&32&&y(e,"min-h-[350px]",a[5].height!=="auto"),u&32&&y(e,"max-h-[55vh]",a[5].height!=="auto"),u&32&&y(e,"xl:min-h-[450px]",a[5].height!=="auto")},i:function(a){r||(P(i),r=!0)},o:function(a){E(i),r=!1},d:function(a){i&&i.d(a),a&&A(t),a&&A(e),oe(_,a),w&&w.d(),h()}};return B("SvelteRegisterBlock",{block:b,id:ce.name,type:"else",source:"(72:1) {:else}",ctx:n}),b}function ue(n){let t,e,s,c;s=new W({$$inline:!0});const h={c:function(){t=v("div"),e=v("div"),C(s.$$.fragment),p(e,"class","h-5 dark:text-white opacity-50 s-QzgPMAMVqUOn"),M(e,G,69,3,2279),p(t,"class","h-full min-h-[15rem] flex justify-center items-center s-QzgPMAMVqUOn"),M(t,G,68,2,2208)},m:function(i,g){q(i,t,g),z(t,e),D(s,e,null),c=!0},p:se,i:function(i){c||(P(s.$$.fragment,i),c=!0)},o:function(i){E(s.$$.fragment,i),c=!1},d:function(i){i&&A(t),N(s)}};return B("SvelteRegisterBlock",{block:h,id:ue.name,type:"if",source:"(68:1) {#if value === null}",ctx:n}),h}function L(n){let t,e,s,c,h,r,i,g,_,w;e=new ae({$$inline:!0}),e.$on("clear",n[16]);let b=n[4];H(b);let m=[];for(let u=0;u<b.length;u+=1)m[u]=T($(n,b,u));const a={c:function(){t=v("div"),C(e.$$.fragment),s=U(),c=v("img"),r=U(),i=v("div");for(let o=0;o<m.length;o+=1)m[o].c();p(c,"class","w-full object-contain h-[calc(100%-50px)] s-QzgPMAMVqUOn"),R(c.src,h=n[4][n[6]])||p(c,"src",h),p(c,"alt",""),M(c,G,82,4,2747),p(i,"class","absolute h-[60px] bg-white dark:bg-gray-900 overflow-x-scroll scroll-hide w-full bottom-0 flex gap-1.5 items-center py-2 text-sm px-3 justify-center s-QzgPMAMVqUOn"),M(i,G,89,4,2910),p(t,"class","absolute inset-0 z-10 flex flex-col bg-white/90 dark:bg-gray-900 backdrop-blur h-full s-QzgPMAMVqUOn"),y(t,"min-h-[350px]",n[5].height!=="auto"),y(t,"max-h-[55vh]",n[5].height!=="auto"),y(t,"xl:min-h-[450px]",n[5].height!=="auto"),M(t,G,73,3,2392)},m:function(o,f){q(o,t,f),D(e,t,null),z(t,s),z(t,c),z(t,r),z(t,i);for(let d=0;d<m.length;d+=1)m[d].m(i,null);n[20](i),g=!0,_||(w=[I(c,"click",n[17],!1,!1,!1),I(t,"keydown",n[14],!1,!1,!1)],_=!0)},p:function(o,f){if((!g||f&80&&!R(c.src,h=o[4][o[6]]))&&p(c,"src",h),f&592){b=o[4],H(b);let d;for(d=0;d<b.length;d+=1){const k=$(o,b,d);m[d]?m[d].p(k,f):(m[d]=T(k),m[d].c(),m[d].m(i,null))}for(;d<m.length;d+=1)m[d].d(1);m.length=b.length}f&32&&y(t,"min-h-[350px]",o[5].height!=="auto"),f&32&&y(t,"max-h-[55vh]",o[5].height!=="auto"),f&32&&y(t,"xl:min-h-[450px]",o[5].height!=="auto")},i:function(o){g||(P(e.$$.fragment,o),g=!0)},o:function(o){E(e.$$.fragment,o),g=!1},d:function(o){o&&A(t),N(e),oe(m,o),n[20](null),_=!1,Ue(w)}};return B("SvelteRegisterBlock",{block:a,id:L.name,type:"if",source:"(73:2) {#if selected_image !== null}",ctx:n}),a}function T(n){let t,e,s,c,h,r=n[28],i,g;const _=()=>n[18](t,r),w=()=>n[18](null,r);function b(){return n[19](n[28])}const m={c:function(){t=v("button"),e=v("img"),c=U(),p(e,"alt",""),p(e,"class","h-full w-full overflow-hidden object-contain s-QzgPMAMVqUOn"),R(e.src,s=n[26])||p(e,"src",s),M(e,G,102,7,3437),p(t,"class",h="gallery-item !flex-none !h-9 !w-9 transition-all duration-75 "+(n[6]===n[28]?"!ring-2 !ring-orange-500 hover:!ring-orange-500":"scale-90 transform")+" s-QzgPMAMVqUOn"),M(t,G,94,6,3147)},m:function(u,o){q(u,t,o),z(t,e),z(t,c),_(),i||(g=I(t,"click",b,!1,!1,!1),i=!0)},p:function(u,o){n=u,o&16&&!R(e.src,s=n[26])&&p(e,"src",s),o&64&&h!==(h="gallery-item !flex-none !h-9 !w-9 transition-all duration-75 "+(n[6]===n[28]?"!ring-2 !ring-orange-500 hover:!ring-orange-500":"scale-90 transform")+" s-QzgPMAMVqUOn")&&p(t,"class",h),r!==n[28]&&(w(),r=n[28],_())},d:function(u){u&&A(t),w(),i=!1,g()}};return B("SvelteRegisterBlock",{block:m,id:T.name,type:"each",source:"(94:5) {#each value as image, i}",ctx:n}),m}function F(n){let t;const e={c:function(){t=v("p"),t.textContent="Empty",p(t,"class","s-QzgPMAMVqUOn"),M(t,G,133,5,4190)},m:function(c,h){q(c,t,h)},p:se,d:function(c){c&&A(t)}};return B("SvelteRegisterBlock",{block:e,id:F.name,type:"else",source:"(133:4) {:else}",ctx:n}),e}function J(n){let t,e,s,c,h,r;function i(){return n[21](n[28])}const g={c:function(){t=v("button"),e=v("img"),c=U(),p(e,"alt",""),p(e,"class","h-full w-full overflow-hidden object-contain s-QzgPMAMVqUOn"),R(e.src,s=n[26])||p(e,"src",s),M(e,G,126,6,4051),p(t,"class","gallery-item s-QzgPMAMVqUOn"),M(t,G,122,5,3931)},m:function(w,b){q(w,t,b),z(t,e),z(t,c),h||(r=I(t,"click",i,!1,!1,!1),h=!0)},p:function(w,b){n=w,b&16&&!R(e.src,s=n[26])&&p(e,"src",s)},d:function(w){w&&A(t),h=!1,r()}};return B("SvelteRegisterBlock",{block:g,id:J.name,type:"each",source:"(122:4) {#each value as image, i}",ctx:n}),g}function fe(n){let t,e,s,c,h,r,i,g;const _=[n[0]];let w={};for(let o=0;o<_.length;o+=1)w=Ae(w,_[o]);t=new te({props:w,$$inline:!0}),s=new re({props:{show_label:n[1],Icon:W,label:n[2]||"Gallery"},$$inline:!0});const b=[ue,ce],m=[];function a(o,f){return o[4]===null?0:1}h=a(n),r=m[h]=b[h](n);const u={c:function(){C(t.$$.fragment),e=U(),C(s.$$.fragment),c=U(),r.c(),i=Ee()},m:function(f,d){D(t,f,d),q(f,e,d),D(s,f,d),q(f,c,d),m[h].m(f,d),q(f,i,d),g=!0},p:function(f,d){const k=d&1?Be(_,[Oe(f[0])]):{};t.$set(k);const V={};d&2&&(V.show_label=f[1]),d&4&&(V.label=f[2]||"Gallery"),s.$set(V);let O=h;h=a(f),h===O?m[h].p(f,d):(ne(),E(m[O],1,1,()=>{m[O]=null}),le(),r=m[h],r?r.p(f,d):(r=m[h]=b[h](f),r.c()),P(r,1),r.m(i.parentNode,i))},i:function(f){g||(P(t.$$.fragment,f),P(s.$$.fragment,f),P(r),g=!0)},o:function(f){E(t.$$.fragment,f),E(s.$$.fragment,f),E(r),g=!1},d:function(f){N(t,f),f&&A(e),N(s,f),f&&A(c),m[h].d(f),f&&A(i)}};return B("SvelteRegisterBlock",{block:u,id:fe.name,type:"slot",source:'(65:0) <Block variant=\\"solid\\" color=\\"grey\\" padding={false} {elem_id}>',ctx:n}),u}function K(n){let t,e,s,c;ee(n[15]),t=new ie({props:{variant:"solid",color:"grey",padding:!1,elem_id:n[3],$$slots:{default:[fe]},$$scope:{ctx:n}},$$inline:!0});const h={c:function(){C(t.$$.fragment)},l:function(i){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(i,g){D(t,i,g),e=!0,s||(c=I(window,"resize",n[15]),s=!0)},p:function(i,[g]){const _={};g&8&&(_.elem_id=i[3]),g&1073757943&&(_.$$scope={dirty:g,ctx:i}),t.$set(_)},i:function(i){e||(P(t.$$.fragment,i),e=!0)},o:function(i){E(t.$$.fragment,i),e=!1},d:function(i){N(t,i),s=!1,c()}};return B("SvelteRegisterBlock",{block:h,id:K.name,type:"component",source:"",ctx:n}),h}function Qe(n,t,e){let s,c,h,r,{$$slots:i={},$$scope:g}=t;qe("Gallery",i,[]);let{loading_status:_}=t,{show_label:w}=t,{label:b}=t,{elem_id:m=""}=t,{value:a=null}=t,{style:u={}}=t,o=null;function f(l){switch(l.code){case"Escape":l.preventDefault(),e(6,o=null);break;case"ArrowLeft":l.preventDefault(),e(6,o=s);break;case"ArrowRight":l.preventDefault(),e(6,o=c);break}}let d=[],k;async function V(l){if(typeof l!="number")return;await Y(),d[l].focus();const{left:j,width:ke}=k.getBoundingClientRect(),{left:ve,width:Me}=d[l].getBoundingClientRect(),X=ve-j+Me/2-ke/2+k.scrollLeft;k.scrollTo({left:X<0?0:X,behavior:"smooth"})}let O=["","sm:","md:","lg:","xl:","2xl:"],Q=0,S=0;const he=["loading_status","show_label","label","elem_id","value","style"];Object.keys(t).forEach(l=>{!~he.indexOf(l)&&l.slice(0,2)!=="$$"&&l!=="slot"&&console.warn(`<Gallery> was created with unknown prop '${l}'`)});function me(){e(8,S=window.innerHeight)}const _e=()=>e(6,o=null),ge=()=>e(6,o=c);function de(l,j){Z[l?"unshift":"push"](()=>{d[j]=l,e(9,d)})}const we=l=>e(6,o=l);function be(l){Z[l?"unshift":"push"](()=>{k=l,e(10,k)})}const pe=l=>e(6,o=r?l:o);function ye(){Q=this.clientHeight,e(7,Q)}return n.$$set=l=>{"loading_status"in l&&e(0,_=l.loading_status),"show_label"in l&&e(1,w=l.show_label),"label"in l&&e(2,b=l.label),"elem_id"in l&&e(3,m=l.elem_id),"value"in l&&e(4,a=l.value),"style"in l&&e(5,u=l.style)},n.$capture_state=()=>({Block:ie,BlockLabel:re,ModifyUpload:ae,tick:Y,StatusTracker:te,Image:W,loading_status:_,show_label:w,label:b,elem_id:m,value:a,style:u,selected_image:o,on_keydown:f,el:d,container:k,scroll_to_img:V,grid_map:O,height:Q,window_height:S,can_zoom:r,grid:h,next:c,previous:s}),n.$inject_state=l=>{"loading_status"in l&&e(0,_=l.loading_status),"show_label"in l&&e(1,w=l.show_label),"label"in l&&e(2,b=l.label),"elem_id"in l&&e(3,m=l.elem_id),"value"in l&&e(4,a=l.value),"style"in l&&e(5,u=l.style),"selected_image"in l&&e(6,o=l.selected_image),"el"in l&&e(9,d=l.el),"container"in l&&e(10,k=l.container),"grid_map"in l&&e(25,O=l.grid_map),"height"in l&&e(7,Q=l.height),"window_height"in l&&e(8,S=l.window_height),"can_zoom"in l&&e(11,r=l.can_zoom),"grid"in l&&e(12,h=l.grid),"next"in l&&e(13,c=l.next),"previous"in l&&(s=l.previous)},t&&"$$inject"in t&&n.$inject_state(t.$$inject),n.$$.update=()=>{n.$$.dirty&80&&(s=((o??0)+(a?.length??0)-1)%(a?.length??0)),n.$$.dirty&80&&e(13,c=((o??0)+1)%(a?.length??0)),n.$$.dirty&64&&V(o),n.$$.dirty&32&&e(12,h=u.grid?Array(6).fill(0).map((l,j)=>`${O[j]}grid-cols-${u.grid[j]||u.grid[u.grid.length-1]}`).join(" "):"grid-cols-3 md:grid-cols-4 lg:grid-cols-6"),n.$$.dirty&384&&e(11,r=S>=Q)},[_,w,b,m,a,u,o,Q,S,d,k,r,h,c,f,me,_e,ge,de,we,be,pe,ye]}class je extends Ge{constructor(t){super(t),Pe(this,t,Qe,K,ze,{loading_status:0,show_label:1,label:2,elem_id:3,value:4,style:5}),B("SvelteRegisterComponent",{component:this,tagName:"Gallery",options:t,id:K.name});const{ctx:e}=this.$$,s=t.props||{};e[0]===void 0&&!("loading_status"in s)&&console.warn("<Gallery> was created without expected prop 'loading_status'"),e[1]===void 0&&!("show_label"in s)&&console.warn("<Gallery> was created without expected prop 'show_label'"),e[2]===void 0&&!("label"in s)&&console.warn("<Gallery> was created without expected prop 'label'")}get loading_status(){throw new Error("<Gallery>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set loading_status(t){throw new Error("<Gallery>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get show_label(){throw new Error("<Gallery>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set show_label(t){throw new Error("<Gallery>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get label(){throw new Error("<Gallery>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set label(t){throw new Error("<Gallery>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get elem_id(){throw new Error("<Gallery>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set elem_id(t){throw new Error("<Gallery>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get value(){throw new Error("<Gallery>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set value(t){throw new Error("<Gallery>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get style(){throw new Error("<Gallery>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set style(t){throw new Error("<Gallery>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}var Le=je;const Te=["static"];export{Le as Component,Te as modes};
