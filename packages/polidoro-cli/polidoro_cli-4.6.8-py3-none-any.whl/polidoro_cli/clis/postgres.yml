name: Postgres

alias: psql

interceptors:
  - docker_local:
      condition: "'$docker' == 'None'"
      command: docker-compose exec $service $default_command $command
  - docker_service:
      condition: "'$docker' != 'None' and '$docker' != 'local'"
      command: docker-compose exec $docker $default_command $command
  - kube:
      condition: "'$kube' != 'local'"
      command: cli kubectl exec $kube $default_command $command

default_configuration:
  named_arguments:
    - docker:
        default: "'local'"
    - service:
        default: Docker.get_main_docker_compose_service()
    - kube:
        default: "'local'"

commands:
  default_command: psql